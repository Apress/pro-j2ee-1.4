<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
         http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd"
         version="2.1">
  <display-name>BidCalculatorJAR</display-name>
  <enterprise-beans>
    <message-driven>
      <display-name>BidCalculator</display-name>
      <ejb-name>BidCalculator</ejb-name>
      <ejb-class>com.wrox.auction.message.ejb.BidCalculatorEJB</ejb-class>
      <messaging-type>javax.jms.MessageListener</messaging-type>
      <transaction-type>Container</transaction-type>
      <message-destination-type>javax.jms.Queue</message-destination-type>
      <message-destination-link>LogicalQueue</message-destination-link>
      <activation-config>
        <activation-config-property>
          <activation-config-property-name>
            destinationType
          </activation-config-property-name>
          <activation-config-property-value>
            javax.jms.Queue
          </activation-config-property-value>
        </activation-config-property> 
        <activation-config-property>
          <activation-config-property-name>
            destination
          </activation-config-property-name>
          <activation-config-property-value>
            BidQueue
          </activation-config-property-value>
        </activation-config-property>
      </activation-config>
      <ejb-local-ref>
        <ejb-ref-name>ejb/offer</ejb-ref-name>
        <ejb-ref-type>Entity</ejb-ref-type>
        <local-home>com.wrox.auction.entity.interfaces.OfferLocalHome</local-home>
        <local>com.wrox.auction.entity.interfaces.OfferLocal</local>
        <ejb-link>Offer</ejb-link>
      </ejb-local-ref>
    </message-driven>
  </enterprise-beans>

  <assembly-descriptor>
    <container-transaction>
      <method>
        <ejb-name>BidCalculator</ejb-name>
        <method-name>*</method-name>
        <method-params/>
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <message-destination>
      <message-destination-name>LogicalQueue</message-destination-name>
    </message-destination>
  </assembly-descriptor>
</ejb-jar>
